<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Implement Location Picker like Ola and Uber in Android Effortlessly</title>

  
<meta name="title" content="Implement Location Picker like Ola and Uber in Android Effortlessly">
<meta name="description" content="The Streamliners is a community of Problem Solvers. We solve Real-World problems. We encourage, guide, help &amp; mentor how to solve.">


<meta property="og:type" content="website">
<meta property="og:url" content="https://thestreamliners.in/blog/location-picker-like-ola-and-uber-in-android/">
<meta property="og:title" content="Implement Location Picker like Ola and Uber in Android Effortlessly">
<meta property="og:description" content="The Streamliners is a community of Problem Solvers. We solve Real-World problems. We encourage, guide, help &amp; mentor how to solve.">
<meta property="og:image" content="https://thestreamliners.in/images/meta-image3.png">


<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://thestreamliners.in/blog/location-picker-like-ola-and-uber-in-android/">
<meta property="twitter:title" content="Implement Location Picker like Ola and Uber in Android Effortlessly">
<meta property="twitter:description" content="The Streamliners is a community of Problem Solvers. We solve Real-World problems. We encourage, guide, help &amp; mentor how to solve.">
<meta property="twitter:image" content="https://thestreamliners.in/images/meta-image3.png">

  <!-- mobile responsive meta -->
  <meta name="theme-color" content="#3c51b2" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <!-- Slick Carousel -->
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/slick/slick.css" />
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/slick/slick-theme.css" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/font-awesome/css/font-awesome.min.css" />

  <!-- Magnific Popup -->
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/magnafic-popup/magnific-popup.css" />

  <!-- Stylesheets -->
  
  <link href="https://thestreamliners.in/scss/style.min.css" rel="stylesheet" />

  <!--Favicon-->
  <link rel="shortcut icon" href="https://thestreamliners.in/images/favicon.png" type="image/x-icon" />
  <link rel="icon" href="https://thestreamliners.in/images/favicon.png" type="image/x-icon" />
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZQR6XDLDE5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js',  new Date());

    gtag('config', 'G-ZQR6XDLDE5');
  </script>
  
</head>

<body>
  <nav class="navbar navbar-expand-lg fixed-top">
  <div class="container">
    <a href="https://thestreamliners.in" class="navbar-brand">
      <img src="https://thestreamliners.in/images/site-navigation/logo.svg" alt="The Streamliners">
    </a>
    <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbarCollapse">
      <span class="navbar-toggler-icon"></span>
      <span class="navbar-toggler-icon"></span>
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
      <ul class="nav navbar-nav main-navigation my-0 mx-auto">
        
        
        <li class="nav-item">
          <a href="https://thestreamliners.in#home"
            class="nav-link text-dark text-sm-center p-2 ">Home</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in#service"
            class="nav-link text-dark text-sm-center p-2 ">Services</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in#portfolio"
            class="nav-link text-dark text-sm-center p-2 ">Portfolio</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in/contact"
            class="nav-link text-dark text-sm-center p-2 ">Contact</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in/about-us"
            class="nav-link text-dark text-sm-center p-2 ">About us</a>
        </li>
        
      </ul>
    
    </div>
  </div>
</nav>
  <div id="content">
    

<header class="breadCrumb">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center">
        <h3 class="breadCrumb__title">Implement Location Picker like Ola and Uber in Android Effortlessly</h3>

        <div class="row justify-content-center">
          <p>August 9, 2021 by <a href="../../authors/atul-sharma">Atul Sharma</a></p>
        </div>

        <nav aria-label="breadcrumb" class="d-flex justify-content-center">
          
          <ol class="breadcrumb align-items-center">
            <li class="breadcrumb-item"><a href=https://thestreamliners.in>Home</a></li>
            <li class="breadcrumb-item"><a href=https://thestreamliners.in/blog>All Posts</a></li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</header>

<section class="section singleBlog">
  <div class="svg-img">
      <img src=https://thestreamliners.in/images/hero/figure-svg.svg alt="">
  </div>
  <div class="animate-shape">
      
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600">
          <defs>
              <linearGradient id="d" x1="0.929" y1="0.111" x2="0.263" y2="0.935" gradientUnits="objectBoundingBox">
                  <stop offset="0" stop-color="#f1f6f9" />
                  <stop offset="1" stop-color="#f1f6f9" stop-opacity="0" />
              </linearGradient>
          </defs>
          <g data-name="blob-shape (3)">
              <path class="blob" fill="url(#d)"
                  d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z" />
          </g>
      </svg>
  </div>
  <div class="animate-pattern">
      <img src=https://thestreamliners.in/images/service/background-pattern.svg alt="background-shape">
  </div>
  <div class="container">
      <div class="row">
          <div class="col-lg-12">
            
          </div>
      </div>
      <div class="row mt-5">
          <div class="col-lg-12">
              <div class="singleBlog__content">
                  <figure class="center-img"><img src="https://cdn-images-1.medium.com/max/1500/1*MFkAs99HSSelVnb3eCq39w.gif"
         alt="Location Picker" width="80%"/>
</figure>

<p>We all come across applications or ideas where we may want users to pick or select their location from maps. From a UX perspective, it is <strong>more convenient to pick a location than to manually enter the fields given</strong>.</p>
<p>Also, <strong>from the developer&rsquo;s perspective</strong> getting user location with pinpoint accuracy helps in getting the job done as required concerning location more precisely.</p>
<h3 id="so-how-to-implement-it">So, how to implement it?</h3>
<p>Well, <strong>it&rsquo;s quite easy</strong>, you just have to call a few Google Maps APIs, set up location permissions precisely, and create your layout for location picker and that’s all!!!</p>
<p>But reading the points above may seem like much, but if you follow all the steps below concisely, your implementation <strong>will work like a charm</strong>.</p>
<p>To add Google Maps to our Application we need the <strong>API key</strong>, to get yours refer to this blog on <a href="https://developers.google.com/maps/documentation/android-sdk/start#enable-api-sdk">Android Google Maps Integration</a>.</p>
<p>Although some of the permissions part may look longer, but whenever we are dealing with location, we must consider all the corner cases, that can happen or occur and satisfy every permission as <em>Location is considered one of the sensitive permissions</em> (<strong>so you must bear with it ☹</strong>).</p>
<h3 id="step-1">Step 1:</h3>
<p><strong>Add the API key</strong> to your Manifest file. Here I have stored my key as a string resource, you can choose your own method of storing the API key.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/8a9d3364554f6192a8612d4ac90c6fd0.js?file=manifest_location.xml"></script>

<p>Then add the following dependency to your <strong>App-level Gradle file</strong>.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/9aa227c8c2751a6df371bcc264fdf1ff.js?file=manifest_location1.xml"></script>

<h3 id="step-2">Step 2:</h3>
<p>Let’s <strong>create our UI</strong> to show our Location Picker.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/0ba27be402c55a4d971de8ed1abc7aa5.js?file=picker_layout.xml"></script>

<blockquote>
<p>We will inflate this layout in a dialog, so we don’t have to take the user to a different activity or fragment.</p>
</blockquote>
<h3 id="step-3">Step 3:</h3>
<p>Let&rsquo;s start by calling this function from the <strong>onClick event of the button</strong> to pick the location.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/d9c6fc837bff6f3d7644dca5e762df8b.js?file=permissionPt1.java"></script>

<p>In the upcoming steps, we will implement all the functions we called above to bring everything coordinated.</p>
<h3 id="step-4-setting-up-permissions">Step 4: Setting Up permissions</h3>
<p>We will implement this step in <strong>three parts</strong>, for the ease of readers.</p>
<h4 id="41">4.1</h4>
<script type="application/javascript" src="https://gist.github.com/Iltwats/6f597b69bcf2396a83a484d2e2460ae5.js?file=permissionPt2.java"></script>

<figure class="center-img"><img src="https://cdn-images-1.medium.com/max/750/1*GNY6PjHxShlRFO44z1LPQg.png"
         alt="Location Picker" width="80%"/>
</figure>

<p>To fetch location of the user device, check if GPS is enabled and if not <strong>show a prompt message to enable GPS.</strong></p>
<p>The prompts look something like this.</p>
<p>Let&rsquo;s implement this for our app.</p>
<h4 id="42">4.2</h4>
<p>Now, that we have location access <strong>we will check if device already has any previous location stored</strong> and if not, we will fetch this beforehand to show it in our picker.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/1b7e1a4c750dbc20762f521e5a087a79.js?file=permissionPt3.java"></script>

<h4 id="43">4.3</h4>
<p>Here, we check about every other location permission is enabled or not i.e. manifest or device before proceeding ahead.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/5398f210a78d8e5e383ce03e8adf6bd4.js?file=permissionPt4.java"></script>

<h3 id="step-5">Step 5:</h3>
<p>We shall override two methods to get the callback of permissions.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/18b40f7e27eecc6d5db8fac5a07ba1d7.js?file=permissionPt5.java"></script>

<h3 id="step-6">Step 6</h3>
<p>Let&rsquo;s set up our dialog to show Picker and save location.</p>
<script type="application/javascript" src="https://gist.github.com/Iltwats/4a9909cf14413be50e4180a0617dcfd3.js?file=locationPicker.java"></script>

<p>The preview would look like this.</p>
<figure class="center-img"><img src="https://cdn-images-1.medium.com/max/750/1*n4DC4Cr4vdy-1OLIJZlPKA.gif"
         alt="Location Picker" width="40%"/>
</figure>

<p>Here you get the latitude and longitude of the user location, and you can do whatever operation you want to perform with it.</p>
<blockquote>
<p><em>Dialog had been inflated using</em> <code>***View binding***</code> <em>a library of Jetpack. Read</em> <a href="https://medium.com/androiddevelopers/use-view-binding-to-replace-findviewbyid-c83942471fc#:~:text=findViewById%20is%20the%20source%20of%20many%20user-facing%20bugs,easy%20to%20ship%20code%20that%20calls%20findViewById%3CTextView%3E%20%28R.id.image%29"><em>more about it here</em></a><em>.</em></p>
</blockquote>
<blockquote>
<p>In Left, we have the demo of what we have written code for above.</p>
</blockquote>
<hr>
<h3 id="now-that-we-have-geo-points-how-to-get-the-address-fromit">Now that we have Geo Points, how to get the address from it?</h3>
<p>From a developer’s perspective saving geo points is more efficient and working with it to track or measure distance for a point.</p>
<p>BUT a user will never understand what those numbers mean or if they selected their right location on the map.</p>
<p>So, this is a problem! ☹</p>
<p><strong>How to accommodate both developers and users, without having data redundancy?</strong></p>
<p>Fortunately, Google help us solve this problem with its GeoCoding API, which gives us the location or address from Geo points, which can be stored in a string and shown to the user.</p>
<h3 id="below-is-the-implementation">Below is the implementation:</h3>
<script type="application/javascript" src="https://gist.github.com/Iltwats/1ec6a713690247df3db08e2ec446f518.js?file=address.java"></script>

<p>There are many methods for GeoCoder class to get road, city, country, zip code, etc. You can read more about its method <a href="https://developers.google.com/maps/documentation/geocoding/overview"><strong>here</strong></a><strong>.</strong></p>
<blockquote>
<p>Here, you can get a <code>NULLPOINTER</code> if you select your location somewhere in Sea, Rivers, Lakes while getting address and you should handle that case separately by checking if the <strong>size</strong> of <code>addresses</code> isn&rsquo;t less than 1.</p>
</blockquote>
<p><strong>Hope it helped. Happy Coding</strong> 😀</p>
<p>Connect with me on <a href="https://github.com/Iltwats"><strong>GitHub</strong></a> and <a href="https://www.linkedin.com/in/1220atul/"><strong>LinkedIn</strong></a>, if you like to build some cool apps.</p>

              </div>

              <div style="margin-top: 100px;" id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.title = "Implement Location Picker like Ola and Uber in Android Effortlessly";
        this.page.url = "https://thestreamliners.in/blog/location-picker-like-ola-and-uber-in-android/";
        this.page.identifier = "Implement Location Picker like Ola and Uber in Android Effortlessly";
    };
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = 'https://the-streamliners.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
          </div>
          
      </div>
  </div>
</section>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<style>

h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
    margin-top: 50px;
}

</style>


  </div>
  <section class="footer" id="contact">
	<div class="footer__background_shape">
		<svg viewBox="0 0 1920 79">
			<path d="M0 0h1920v79L0 0z" data-name="Path 1450" />
		</svg>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="footer__cta">
					<div class="shape-1">
						<svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029">
							<path data-name="Path 1449"
								d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z"
								transform="translate(217.489 188.626)" />
						</svg>
					</div>
					<div class="shape-2">
						<svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029">
							<path data-name="Path 1449"
								d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z"
								transform="translate(217.489 188.626)" />
						</svg>
					</div>
					<div class="text-light footer__cta_content">
						<span>Contact us</span>
						<h2 class="mb-0">Let’s make your dream come true</h2>
					</div>
					<div class="footer__cta_action">
						<a class="btn btn-light btn-zoom" href="https://thestreamliners.in/contact">Get in
							touch</a>
					</div>
				</div>
			</div>
		</div>
		<div class="row footer__widget">
			<div class="col-lg-4">
				<div class="footer__widget_logo mb-5">
					<img src="https://thestreamliners.in/images/site-navigation/footer-logo.svg" alt="The Streamliners">
				</div>
			</div>
			<div class="col-lg-4">
				<div class="text-light footer__widget_sitemap mb-5">
					<h4 class="base-font">Links</h4>
					<ul class="unstyle-list small">
						
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/portfolio/locatin">LocatIN</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/portfolio/ju-eezy">JU eezy</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/cse-simplified">CSE Simplified</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/android-training">Android Training (For JECRCians)</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/android-training-ext">Android Training (For Outsiders)</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/about-us">About us</a></li>
						
					</ul>
				</div>
			</div>
			<div class="col-lg-4">
				<div class="text-light footer__widget_address mb-5">
					<h4 class="base-font">Address</h4>
					
					<ul class="fa-ul small">
						
						<li class="mb-2"><a class="text-light" href="mailto:thestreamliners.tech@gmail.com"><span class="fa-li"><i
										class="fa fa-envelope"></i></span>thestreamliners.tech@gmail.com</a></li>
						<li class="mb-2">
							<span class="fa-li"><i class="fa fa-map-marker"></i></span>JECRC University, Jaipur, Rajasthan, INDIA</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row footer__footer">
			<div class="col-lg-6">
				<div class="footer__footer_copy text-light">
					<p>All rights reserved © The Streamliners 2021</p>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="footer__footer_social">
					<ul class="unstyle-list">
						
						
						<li class="d-inline-block mx-2"><a class="text-light" target="_blank" href="https://www.linkedin.com/in/lavishswarnkar"><i
									class="fa fa-linkedin-square"></i></a>
						</li>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</section>
<script src="https://thestreamliners.in/plugins/jQuery/jquery.min.js"></script>
<script src="https://thestreamliners.in/plugins/bootstrap/bootstrap.min.js"></script>
<script src="https://thestreamliners.in/plugins/slick/slick.min.js"></script>
<script src="https://thestreamliners.in/plugins/waypoint/jquery.waypoints.min.js"></script>
<script src="https://thestreamliners.in/plugins/magnafic-popup/jquery.magnific-popup.min.js"></script>
<script src="https://thestreamliners.in/plugins/tweenmax/TweenMax.min.js"></script>
<script src="https://thestreamliners.in/plugins/imagesloaded/imagesloaded.min.js"></script>
<script src="https://thestreamliners.in/plugins/masonry/masonry.min.js"></script>

<script src="https://thestreamliners.in/js/form-handler.min.js"></script>

<script src="https://thestreamliners.in/js/script.min.js"></script>

</body>

</html>