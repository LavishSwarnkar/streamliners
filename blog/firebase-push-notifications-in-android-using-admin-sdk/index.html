<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Firebase Push notifications using Admin SDK</title>

  
<meta name="title" content="Firebase Push notifications using Admin SDK">
<meta name="description" content="The Streamliners is a community of Problem Solvers. We solve Real-World problems. We encourage, guide, help &amp; mentor how to solve.">


<meta property="og:type" content="website">
<meta property="og:url" content="https://thestreamliners.in/blog/firebase-push-notifications-in-android-using-admin-sdk/">
<meta property="og:title" content="Firebase Push notifications using Admin SDK">
<meta property="og:description" content="The Streamliners is a community of Problem Solvers. We solve Real-World problems. We encourage, guide, help &amp; mentor how to solve.">
<meta property="og:image" content="https://thestreamliners.in/images/meta-image3.png">


<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://thestreamliners.in/blog/firebase-push-notifications-in-android-using-admin-sdk/">
<meta property="twitter:title" content="Firebase Push notifications using Admin SDK">
<meta property="twitter:description" content="The Streamliners is a community of Problem Solvers. We solve Real-World problems. We encourage, guide, help &amp; mentor how to solve.">
<meta property="twitter:image" content="https://thestreamliners.in/images/meta-image3.png">

  <!-- mobile responsive meta -->
  <meta name="theme-color" content="#3c51b2" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <!-- Slick Carousel -->
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/slick/slick.css" />
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/slick/slick-theme.css" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/font-awesome/css/font-awesome.min.css" />

  <!-- Magnific Popup -->
  <link rel="stylesheet" href="https://thestreamliners.in/plugins/magnafic-popup/magnific-popup.css" />

  <!-- Stylesheets -->
  
  <link href="https://thestreamliners.in/scss/style.min.css" rel="stylesheet" />

  <!--Favicon-->
  <link rel="shortcut icon" href="https://thestreamliners.in/images/favicon.png" type="image/x-icon" />
  <link rel="icon" href="https://thestreamliners.in/images/favicon.png" type="image/x-icon" />
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZQR6XDLDE5"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js',  new Date());

    gtag('config', 'G-ZQR6XDLDE5');
  </script>
  
</head>

<body>
  <nav class="navbar navbar-expand-lg fixed-top">
  <div class="container">
    <a href="https://thestreamliners.in" class="navbar-brand">
      <img src="https://thestreamliners.in/images/site-navigation/logo.svg" alt="The Streamliners">
    </a>
    <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#navbarCollapse">
      <span class="navbar-toggler-icon"></span>
      <span class="navbar-toggler-icon"></span>
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
      <ul class="nav navbar-nav main-navigation my-0 mx-auto">
        
        
        <li class="nav-item">
          <a href="https://thestreamliners.in#home"
            class="nav-link text-dark text-sm-center p-2 ">Home</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in#service"
            class="nav-link text-dark text-sm-center p-2 ">Services</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in#portfolio"
            class="nav-link text-dark text-sm-center p-2 ">Portfolio</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in/contact"
            class="nav-link text-dark text-sm-center p-2 ">Contact</a>
        </li>
        
        <li class="nav-item">
          <a href="https://thestreamliners.in/about-us"
            class="nav-link text-dark text-sm-center p-2 ">About us</a>
        </li>
        
      </ul>
    
    </div>
  </div>
</nav>
  <div id="content">
    

<header class="breadCrumb">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center">
        <h3 class="breadCrumb__title">Firebase Push notifications using Admin SDK</h3>

        <div class="row justify-content-center">
          <p>July 1, 2021 by <a href="../../authors/swapnil-bhojwani">Swapnil Bhojwani</a></p>
        </div>

        <nav aria-label="breadcrumb" class="d-flex justify-content-center">
          
          <ol class="breadcrumb align-items-center">
            <li class="breadcrumb-item"><a href=https://thestreamliners.in>Home</a></li>
            <li class="breadcrumb-item"><a href=https://thestreamliners.in/blog>All Posts</a></li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
</header>

<section class="section singleBlog">
  <div class="svg-img">
      <img src=https://thestreamliners.in/images/hero/figure-svg.svg alt="">
  </div>
  <div class="animate-shape">
      
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600">
          <defs>
              <linearGradient id="d" x1="0.929" y1="0.111" x2="0.263" y2="0.935" gradientUnits="objectBoundingBox">
                  <stop offset="0" stop-color="#f1f6f9" />
                  <stop offset="1" stop-color="#f1f6f9" stop-opacity="0" />
              </linearGradient>
          </defs>
          <g data-name="blob-shape (3)">
              <path class="blob" fill="url(#d)"
                  d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z" />
          </g>
      </svg>
  </div>
  <div class="animate-pattern">
      <img src=https://thestreamliners.in/images/service/background-pattern.svg alt="background-shape">
  </div>
  <div class="container">
      <div class="row">
          <div class="col-lg-12">
            
          </div>
      </div>
      <div class="row mt-5">
          <div class="col-lg-12">
              <div class="singleBlog__content">
                  <h3 id="how-to-send-push-notifications-through-an-android-app-using-firebase">How to send push notifications through an Android app using firebase?</h3>
<figure class="center-img"><img src="https://miro.medium.com/max/700/1*rMGumKz0r1UOGC_fApQYKQ.png"
         alt="FCM" width="100%"/>
</figure>

<p>A <strong>notification</strong> is a message you can display to the user outside of your application’s normal UI. When you tell the system to issue a notification, it first appears as an icon in the notification area. Notifications are important to give timely updates to your android app users they require minimal <strong>UI</strong> to notify the user about the event.</p>
<h3 id="why-firebase-cloud-messaging-fcm-"><strong>Why Firebase</strong> Cloud Messaging (FCM) <strong>?</strong></h3>
<p>Firebase Cloud Messaging (FCM) is a cross-platform messaging solution that lets you reliably send messages at no cost. Using FCM, you can notify a client app that new email or other data is available to sync. You can send notification messages to drive user re-engagement and retention. For use cases such as instant messaging, a message can transfer a payload of up to 4000 bytes to a client app.</p>
<h3 id="lets-dive-into-its-code"><strong>Let’s dive into it’s code</strong></h3>
<h4 id="step-1">Step 1:</h4>
<p>Connect your android app to firebase.</p>
<h4 id="step-2">Step 2:</h4>
<p>Now add dependencies as given in app level build.gradle file 👇👇.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">dependencies <span style="color:#f92672">{</span>
    <span style="color:#75715e">//Firebase BOM
</span><span style="color:#75715e"></span>    implementation <span style="color:#a6e22e">platform</span><span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">&#39;</span>com<span style="color:#f92672">.</span><span style="color:#a6e22e">google</span><span style="color:#f92672">.</span><span style="color:#a6e22e">firebase</span><span style="color:#f92672">:</span>firebase<span style="color:#f92672">-</span>bom<span style="color:#f92672">:</span>28<span style="color:#f92672">.</span><span style="color:#a6e22e">2</span><span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#f92672">)</span>
    <span style="color:#75715e">//Messaging dependency
</span><span style="color:#75715e"></span>    implementation <span style="color:#960050;background-color:#1e0010">&#39;</span>com<span style="color:#f92672">.</span><span style="color:#a6e22e">google</span><span style="color:#f92672">.</span><span style="color:#a6e22e">firebase</span><span style="color:#f92672">:</span>firebase<span style="color:#f92672">-</span>messaging<span style="color:#960050;background-color:#1e0010">&#39;</span>
    <span style="color:#75715e">// define a BOM and its version
</span><span style="color:#75715e"></span>    implementation<span style="color:#f92672">(</span>platform<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.squareup.okhttp3:okhttp-bom:4.9.1&#34;</span><span style="color:#f92672">))</span>
    <span style="color:#75715e">// define any required OkHttp artifacts without version
</span><span style="color:#75715e"></span>    implementation<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.squareup.okhttp3:okhttp&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="step-3">Step 3:</h4>
<p>Now make a java class named as <strong>FCMReceiver.java</strong> this class extends FirebaseMessagingService and it’s overriden method onMessageRecieved is called automatically called when a message comes into the app when the app is whether foreground or background. Here is the FCMReceiver code 👇👇.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FCMReceiver</span> <span style="color:#66d9ef">extends</span> FirebaseMessagingService <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String CHANNEL_ID <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Notification_channel&#34;</span><span style="color:#f92672">;</span>
    Random random <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Random<span style="color:#f92672">();</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">    * This is automatically called when notification is being received
</span><span style="color:#75715e">    * */</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onMessageReceived</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@NonNull</span> <span style="color:#a6e22e">@NotNull</span> RemoteMessage remoteMessage<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">onMessageReceived</span><span style="color:#f92672">(</span>remoteMessage<span style="color:#f92672">);</span>
        createNotificationChannel<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>remoteMessage<span style="color:#f92672">.</span><span style="color:#a6e22e">getData</span><span style="color:#f92672">().</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;for&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>remoteMessage<span style="color:#f92672">.</span><span style="color:#a6e22e">getData</span><span style="color:#f92672">().</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;for&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>FirebaseAuth<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getCurrentUser</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getPhoneNumber</span><span style="color:#f92672">()))</span> <span style="color:#f92672">{</span>
                showNotification<span style="color:#f92672">(</span>remoteMessage<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75715e">/*
</span><span style="color:#75715e">    * Method to show notification when received 
</span><span style="color:#75715e">    * */</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showNotification</span><span style="color:#f92672">(</span>RemoteMessage remoteMessage<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        NotificationCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> NotificationCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">Builder</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> CHANNEL_ID<span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">setContentTitle</span><span style="color:#f92672">(</span>getString<span style="color:#f92672">(</span>R<span style="color:#f92672">.</span><span style="color:#a6e22e">string</span><span style="color:#f92672">.</span><span style="color:#a6e22e">app_name</span><span style="color:#f92672">))</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">setSmallIcon</span><span style="color:#f92672">(</span>R<span style="color:#f92672">.</span><span style="color:#a6e22e">drawable</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ic_notification_icon</span><span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">setContentText</span><span style="color:#f92672">(</span>remoteMessage<span style="color:#f92672">.</span><span style="color:#a6e22e">getData</span><span style="color:#f92672">().</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;body&#34;</span><span style="color:#f92672">))</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">setColor</span><span style="color:#f92672">(</span>ContextCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">getColor</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span>R<span style="color:#f92672">.</span><span style="color:#a6e22e">color</span><span style="color:#f92672">.</span><span style="color:#a6e22e">notification_red</span><span style="color:#f92672">));</span>
        NotificationManagerCompat notificationManager <span style="color:#f92672">=</span> NotificationManagerCompat<span style="color:#f92672">.</span><span style="color:#a6e22e">from</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// notificationId is a unique int for each notification that you must define
</span><span style="color:#75715e"></span>        notificationManager<span style="color:#f92672">.</span><span style="color:#a6e22e">notify</span><span style="color:#f92672">(</span>random<span style="color:#f92672">.</span><span style="color:#a6e22e">nextInt</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> 1000<span style="color:#f92672">,</span> builder<span style="color:#f92672">.</span><span style="color:#a6e22e">build</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">    * Method to create notification channel
</span><span style="color:#75715e">    * */</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">createNotificationChannel</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// Create the NotificationChannel, but only on API 26+ because
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// the NotificationChannel class is new and not in the support library
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION_CODES</span><span style="color:#f92672">.</span><span style="color:#a6e22e">O</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            CharSequence name <span style="color:#f92672">=</span> getString<span style="color:#f92672">(</span>R<span style="color:#f92672">.</span><span style="color:#a6e22e">string</span><span style="color:#f92672">.</span><span style="color:#a6e22e">channel_name</span><span style="color:#f92672">);</span>
            String description <span style="color:#f92672">=</span> getString<span style="color:#f92672">(</span>R<span style="color:#f92672">.</span><span style="color:#a6e22e">string</span><span style="color:#f92672">.</span><span style="color:#a6e22e">channel_description</span><span style="color:#f92672">);</span>
            <span style="color:#66d9ef">int</span> importance <span style="color:#f92672">=</span> NotificationManager<span style="color:#f92672">.</span><span style="color:#a6e22e">IMPORTANCE_DEFAULT</span><span style="color:#f92672">;</span>
            NotificationChannel channel <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> NotificationChannel<span style="color:#f92672">(</span>CHANNEL_ID<span style="color:#f92672">,</span> name<span style="color:#f92672">,</span> importance<span style="color:#f92672">);</span>
            channel<span style="color:#f92672">.</span><span style="color:#a6e22e">setDescription</span><span style="color:#f92672">(</span>description<span style="color:#f92672">);</span>
            NotificationManager notificationManager <span style="color:#f92672">=</span> getSystemService<span style="color:#f92672">(</span>NotificationManager<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
            notificationManager<span style="color:#f92672">.</span><span style="color:#a6e22e">createNotificationChannel</span><span style="color:#f92672">(</span>channel<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="step-4">Step 4:</h4>
<p>Now declare this code into <strong>AndroidManifest.xml</strong> as given in the code snippet👇👇.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">        <span style="color:#f92672">&lt;</span>service
            android<span style="color:#f92672">:</span>name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.notifications.FCMReceiver&#34;</span>
            android<span style="color:#f92672">:</span>exported<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">&gt;</span>
            <span style="color:#f92672">&lt;</span>intent<span style="color:#f92672">-</span>filter<span style="color:#f92672">&gt;</span>
                <span style="color:#f92672">&lt;</span>action android<span style="color:#f92672">:</span>name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;com.google.firebase.MESSAGING_EVENT&#34;</span> <span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;/</span>intent<span style="color:#f92672">-</span>filter<span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;/</span>service<span style="color:#f92672">&gt;</span>
</code></pre></div><h4 id="step-5">Step 5:</h4>
<ul>
<li>Now our FCMReceiver.java is ready now we will move forward to see <strong>FCMSender</strong> code will we send notification by using the following code 👇👇.</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.swapnil.helloworld.notifications<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> okhttp3.Call<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> okhttp3.Callback<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> okhttp3.MediaType<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> okhttp3.OkHttpClient<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> okhttp3.Request<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> okhttp3.RequestBody<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FCMSender</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * URL where we request to send notification and the key to send notification using admin sdk
</span><span style="color:#75715e">     * */</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String FCM_URL <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://fcm.googleapis.com/fcm/send&#34;</span><span style="color:#f92672">,</span> KEY_STRING <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;key=YOUR_ADMIN_SDK_KEY&#34;</span><span style="color:#f92672">;</span>

    OkHttpClient client <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> OkHttpClient<span style="color:#f92672">();</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * Method to send notification to the application
</span><span style="color:#75715e">     * */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">send</span><span style="color:#f92672">(</span>String message<span style="color:#f92672">,</span> Callback callback<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        RequestBody reqBody <span style="color:#f92672">=</span> RequestBody<span style="color:#f92672">.</span><span style="color:#a6e22e">create</span><span style="color:#f92672">(</span>message
                <span style="color:#f92672">,</span> MediaType<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;application/json&#34;</span><span style="color:#f92672">));</span>

        Request request <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Request<span style="color:#f92672">.</span><span style="color:#a6e22e">Builder</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">url</span><span style="color:#f92672">(</span>FCM_URL<span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">addHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Content-Type&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;application/json&#34;</span><span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">addHeader</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Authorization&#34;</span><span style="color:#f92672">,</span> KEY_STRING<span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">post</span><span style="color:#f92672">(</span>reqBody<span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>

        Call call <span style="color:#f92672">=</span> client<span style="color:#f92672">.</span><span style="color:#a6e22e">newCall</span><span style="color:#f92672">(</span>request<span style="color:#f92672">);</span>
        call<span style="color:#f92672">.</span><span style="color:#a6e22e">enqueue</span><span style="color:#f92672">(</span>callback<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>YOUR_ADMIN_SDK_KEY will be replaced by the key given in your firebase project it is located in tab of cloud messaging under project settings see the below screenshot to locate the key</li>
</ul>
<p><!-- raw HTML omitted --> <!-- raw HTML omitted --><strong>NOTE</strong>:- Don’t share the key with anyone else otherwise there will be breach in your application someone having this key can send push notifications to your application so beware.</p>
<p><strong>TIP</strong>:- If Breach occurs then click on add server key and delete the older key.</p>
<h4 id="step-6">Step 6:</h4>
<p>Call the FCMSender.send() method to send notification to the application and you have to give topic to which you wanna send message. If the user is subscribed to the topic then he/she will get notification message. Here we have to pass topic to which we want to send notification. And in “for” we have to send mobile number with country code appended in it, and in “body” you can pass the message you want to send. The message you have to pass while sending notification have format as that of the message string given below 👇👇.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.swapnil.helloworld.notifications<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NotificationMessage</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;{&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;  \&#34;to\&#34;: \&#34;/topics/%s\&#34;,&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;  \&#34;data\&#34;: {&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;       \&#34;body\&#34;:\&#34;%s\&#34;,&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;       \&#34;for\&#34;:\&#34;%s\&#34;&#34;</span><span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;   }&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;}&#34;</span><span style="color:#f92672">;</span>

<span style="color:#f92672">}</span>
</code></pre></div><h3 id="data-vs-notification">Data vs Notification</h3>
<p>We have used data in the message because there is reason behind it we also want to show notifications when the application is in background so we have used data but if you have sent notification instead it does not execute the code written in <strong>onMessageRecieved</strong> so we cannot customize it and it also has one disadvantage it is shown by system so it is shown only when the app is in background i.e app must be in recents otherwise notification will be killed.</p>
<p>Code sample for using Notification as message 👇👇.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.swapnil.helloworld.notifications<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NotificationMessage</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;{&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;  \&#34;to\&#34;: \&#34;/topics/%s\&#34;,&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;  \&#34;notification\&#34;: {&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;       \&#34;body\&#34;:\&#34;%s\&#34;,&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;       \&#34;title\&#34;:\&#34;%s\&#34;&#34;</span><span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;   }&#34;</span> <span style="color:#f92672">+</span>
            <span style="color:#e6db74">&#34;}&#34;</span><span style="color:#f92672">;</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>[Here is the youtube video of the application that i have made for the blog](<a href="https://www.youtube.com/watch?v=-oQeSEUoJFs">Android app to send notification using FCM and Admin SDK Firebase - YouTube</a>)</p>
<p>For more stuff related to programming follow me.
Here is the source code to this application <a href="https://github.com/swapnil20711/NotificationsAdminSDK">GitHub - swapnil20711/NotificationsAdminSDK</a></p>
<p><strong>Happy coding🔥🔥😀😀.</strong></p>

              </div>

              <div style="margin-top: 100px;" id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.title = "Firebase Push notifications using Admin SDK";
        this.page.url = "https://thestreamliners.in/blog/firebase-push-notifications-in-android-using-admin-sdk/";
        this.page.identifier = "Firebase Push notifications using Admin SDK";
    };
    (function() {
        var d = document, s = d.createElement('script');
        
        s.src = 'https://the-streamliners.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
          </div>
          
      </div>
  </div>
</section>

<style>

h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
    margin-top: 50px;
}

</style>


  </div>
  <section class="footer" id="contact">
	<div class="footer__background_shape">
		<svg viewBox="0 0 1920 79">
			<path d="M0 0h1920v79L0 0z" data-name="Path 1450" />
		</svg>
	</div>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<div class="footer__cta">
					<div class="shape-1">
						<svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029">
							<path data-name="Path 1449"
								d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z"
								transform="translate(217.489 188.626)" />
						</svg>
					</div>
					<div class="shape-2">
						<svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029">
							<path data-name="Path 1449"
								d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z"
								transform="translate(217.489 188.626)" />
						</svg>
					</div>
					<div class="text-light footer__cta_content">
						<span>Contact us</span>
						<h2 class="mb-0">Let’s make your dream come true</h2>
					</div>
					<div class="footer__cta_action">
						<a class="btn btn-light btn-zoom" href="https://thestreamliners.in/contact">Get in
							touch</a>
					</div>
				</div>
			</div>
		</div>
		<div class="row footer__widget">
			<div class="col-lg-4">
				<div class="footer__widget_logo mb-5">
					<img src="https://thestreamliners.in/images/site-navigation/footer-logo.svg" alt="The Streamliners">
				</div>
			</div>
			<div class="col-lg-4">
				<div class="text-light footer__widget_sitemap mb-5">
					<h4 class="base-font">Links</h4>
					<ul class="unstyle-list small">
						
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/portfolio/locatin">LocatIN</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/portfolio/ju-eezy">JU eezy</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/cse-simplified">CSE Simplified</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/android-training">Android Training (For JECRCians)</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/android-training-ext">Android Training (For Outsiders)</a></li>
						
						<li class="mb-2"><a class="text-light" href="https://thestreamliners.in/about-us">About us</a></li>
						
					</ul>
				</div>
			</div>
			<div class="col-lg-4">
				<div class="text-light footer__widget_address mb-5">
					<h4 class="base-font">Address</h4>
					
					<ul class="fa-ul small">
						
						<li class="mb-2"><a class="text-light" href="mailto:thestreamliners.tech@gmail.com"><span class="fa-li"><i
										class="fa fa-envelope"></i></span>thestreamliners.tech@gmail.com</a></li>
						<li class="mb-2">
							<span class="fa-li"><i class="fa fa-map-marker"></i></span>JECRC University, Jaipur, Rajasthan, INDIA</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="row footer__footer">
			<div class="col-lg-6">
				<div class="footer__footer_copy text-light">
					<p>All rights reserved © The Streamliners 2021</p>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="footer__footer_social">
					<ul class="unstyle-list">
						
						
						<li class="d-inline-block mx-2"><a class="text-light" target="_blank" href="https://www.linkedin.com/in/lavishswarnkar"><i
									class="fa fa-linkedin-square"></i></a>
						</li>
						
					</ul>
				</div>
			</div>
		</div>
	</div>
</section>
<script src="https://thestreamliners.in/plugins/jQuery/jquery.min.js"></script>
<script src="https://thestreamliners.in/plugins/bootstrap/bootstrap.min.js"></script>
<script src="https://thestreamliners.in/plugins/slick/slick.min.js"></script>
<script src="https://thestreamliners.in/plugins/waypoint/jquery.waypoints.min.js"></script>
<script src="https://thestreamliners.in/plugins/magnafic-popup/jquery.magnific-popup.min.js"></script>
<script src="https://thestreamliners.in/plugins/tweenmax/TweenMax.min.js"></script>
<script src="https://thestreamliners.in/plugins/imagesloaded/imagesloaded.min.js"></script>
<script src="https://thestreamliners.in/plugins/masonry/masonry.min.js"></script>

<script src="https://thestreamliners.in/js/form-handler.min.js"></script>

<script src="https://thestreamliners.in/js/script.min.js"></script>

</body>

</html>